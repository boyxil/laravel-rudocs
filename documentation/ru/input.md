# Ввод и Cookies

## Содержание

- [Ввод](#input)
- [JSON ввод](#json)
- [Файлы](#files)
- [Повторный ввод](#old-input)
- [Переадресация с повторным вводом](#redirecting-with-old-input)
- [Куки](#cookies)
- [Объединение и замена](#merge)

<a name="input"></a>
## Ввод

Класс **Input** обеспечивает управление вводом посредством запросов GET, POST, PUT, или DELETE. Несколько примеров использования класса **Input**:

#### Извлечение значения из входного массива:

	$email = Input::get('email');

> **Примечание:** Метод "get" класса **Input** используется при извлечении данных из всех типов запросов (GET, POST, PUT, and DELETE), а не только GET.

#### Извлечение входного массива в переменную:

	$input = Input::get();

#### Извлечение входного массива, включая массив $_FILES:

	$input = Input::all();

По умолчанию, в случае отсутствия значения метод извлечения ввода возвращает *null*. Тем не менее, вы можете изменить это поведение, указав в качестве второго параметра при вызове значение по умолчанию.

#### Возрат знаения по умолчанию при отсутствии значения ввода:

	$name = Input::get('name', 'Fred');

#### Использование анонимной функции:

	$name = Input::get('name', function() {return 'Fred';});

#### Определение наличие значения в поле ввода:

	if (Input::has('name')) ...

> **Примечание:** Метод "has" вернет *false* если в поле пустая строка.

<a name="json"></a>
## JSON ввод

Для работы с JSON используется метод `Input::json`:

#### Извлечение JSON ввода в приложение:

	$data = Input::json();

<a name="files"></a>
## Файлы

#### Извлечение всех элементов массива $_FILES:

	$files = Input::file();

#### Извлечение элемента массива $_FILES:

	$picture = Input::file('picture');

#### Получение определенного элемента массива $_FILES:

	$size = Input::file('picture.size');

<a name="old-input"></a>
## Повторный ввод


Часто бывает необходимо повторить ввод формы с учетом неправильно введенных данных. Класс Input решает эту задачу.  You'll commonly need to re-populate forms after invalid form submissions. Laravel's Input class was designed with this problem in mind. Следующий пример показывает, как легко можно получить данные предыдущего запроса.Сначала сбрасываем входные данные сессии:

#### Сброс ввода сессии:

	Input::flash();

#### Сброс выбранных значений ввода сессии:

	Input::flash('only', array('username', 'email'));

	Input::flash('except', array('password', 'credit_card'));

#### Запрос сброшенных данных из предыдущего запроса:

	$name = Input::old('name');

> **Примечание:** Не забудьте активировать поддержку сессий.

*Рекомендуем к прочтению:*

- *[Сессии](/docs/session/config)*

<a name="redirecting-with-old-input"></a>
## Переадресация с повторным вводом

Теперь вам известно, как сбросить ввод в сессии. Теперь коротко о том, как сделать переадресацию вместе с вводимыми данными для избавления от повторного заполнения форм:

#### Проброс данных из Redirect экземпляра:

	return Redirect::to('login')->with_input();

#### Проброс определенных данных из Redirect экземпляра:

	return Redirect::to('login')->with_input('only', array('username'));

	return Redirect::to('login')->with_input('except', array('password'));

<a name="cookies"></a>
## Куки

Laravel обеспечивает хорошую обработку массива $ _COOKIE. Тем не менее, есть несколько вещей, которые вы должны знать перед использованием куки обработки. Во-первых, все Laravel куки содержат "подписи хэш". Это позволяет фреймворку проверить, что куки не был изменен на стороне клиента. Во-вторых, при установлении куки, куки не сразу направляются в браузер, но объединяются до конца запроса, а затем отправляются вместе. Это означает, что вы не сможете и устанавливать, и запрашивать значения куки в пределах одного запроса.

#### Извлечение значения куки:

	$name = Cookie::get('name');

#### Возврат значения по умолчанию, если куки пуст:

	$name = Cookie::get('name', 'Fred');

#### Установка "времени жизни" куки 60 минут:

	Cookie::put('name', 'Fred', 60);

#### Создание "вечного" куки (на 5 лет):

	Cookie::forever('name', 'Fred');

#### Удаление куки:

	Cookie::forget('name');

<a name="merge"></a>
## Объединение и замена

Иногда возникает необходимость объединить или заменить ввод. Смотрим как:

#### Добавление новых данных к текущему вводу:

	Input::merge(array('name' => 'Spock'));

#### Замена всего массива ввода новыми данными:

	Input::merge(array('doctor' => 'Bones', 'captain' => 'Kirk'));
